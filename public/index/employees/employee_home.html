<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Western Express: Employee Portal</title>
    <link rel="stylesheet" href="\css\employees\employee_home.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM Sans">
  </head>
  <body>
    <div class="transparent-background"></div>
    <header>
      <h1>Welcome, <strong>Jane Doe</strong>!</h1>
      <div class="top-icons">
        <div class="dropdown">
          <div class="icon">
            <img
              src="/images/employee_images/account_circle.svg"
              alt="user logo"
            />
          </div>
          <div class="dropdown-content">
            <a href="#">Profile</a>
            <a href="#">Settings</a>
            <a href="#">Sign Out</a>
          </div>
        </div>
      </div>
    </header>
    <hr class="horizontal-line" />

    <div class="container">
      <nav class="side-nav">
        <ul>
          <li><a href="#" onclick="loadContent('home')">Home</a></li>
          <li><a href="#" onclick="loadContent('tracking')">Tracking</a></li>
          <li><a href="#" onclick="loadContent('packages')">Packages Overview</a></li>
          <li><a href="#" onclick="loadContent('support')">Support</a></li>
          <!--<li><a href="#" onclick="loadContent('post office')">Post-Offices</a></li>-->
          <!--<li><a href="/index/employees/financial_report.html">Financial Report</a></li>-->
          <li><a href="#" onclick="loadContent('financial-report')">Financial Report</a></li>
          <li><a href="#" onclick="loadContent('contact')">Contact</a></li>
          <li><a href="#" onclick="loadContent('clockin-clockout')">Clock In/Clock Out</a></li>
          <!--<li><a href="#" onclick="loadContent('create-label')">Create Label</a></li>-->
          <li><a href="#" onclick="signOut()">Sign Out</a></li>
          <script>
            function signOut() {
                // Perform logout logic here, e.g., clearing session storage, etc.
        
                // Redirect to index.html after logout
                window.location.href = "/index.html";
            }
          </script>
        </ul>
      </nav>
      <main class="content">
        <div id="home">
          <div class="background-container">
            <h1>Western Express Postal: Employee Portal</h1>
            <!--<div class="track-package">
              <input type="text" placeholder="Enter tracking number" />
              <button>Track</button>
            </div>-->
          </div>
          <div class="services">
            <h2>Services Overview</h2>
            <h3>Priority Mail Express</h3>
            <p>
              Perfect for sending urgent mails or packages within 1-2 days.
              Money back guaranteed if it doesn’t arrive by delivery date Price:
              Starts at $27.75 Delivery Speed: Next day to 2 days Weight: Up to
              70lbs
            </p>
            <h3>Priority Mail</h3>
            <p>
              You need to send something important that need to arrive within 1
              to 3 business days Price: Flat Rate Envelop: From $8.65 Mailing
              Box: From $9.20 Your Own Box by Weight: From $9.35 Delivery Speed:
              1-2 days Weight: Up to 70lbs
            </p>
            <h3>Ground</h3>
            <p>
              Low rates for packages that only need to be delivered within 2-5
              days. Good option for HAZMAT items that can’t travel by air.
              Price: From $4.25 Delivery Speed: 2-5 days Weight: Up to 70lbs
              inside the US. Packages up to 15.999 oz is priced by ounces.
            </p>
            <h3>First Class</h3>
            <p>
              For sending letter envelops (below 3.5oz) or large envelop (below
              13 oz) that can flatten and bend. Price: Postcards: $0.41 Letters:
              $0.56 Large Envelops: $1.25 Delivery Speed: 2-5 days Weight:
              Single-piece envelops weighs up 10 3.5oz, and large envelops up to
              13oz.
            </p>
            <h3>Media Class</h3>
            <p>
              Sending books, medias, and educational materials for an affordable
              price. Can only be shipped in store. Items are subjected to be
              inspected at Postal Service Price: From $3.75 Delivery Speed: 2-8
              days Weight: Up to 70lbs
            </p>
            <div class="contactinfo">
              <p>Western Express Postal Service</p>
              <p>CONTACT INFORMATION</p>
              <p>Email: westernexpresspostal@outlook.net</p>
              <p>Location's Phone Number: (888) 777 6666</p>
              <p>Manager's Phone Number: (666) 555 4444</p>
            </div>
          </div>
        </div>
        <div id="tracking">
          <span style="display: none;">Tracking ID:<span id="tracking-id"></span></span>
          <!--<div>
            <button id="view-tracking-btn">View Tracking History</button>
            <button id="update-tracking-btn">Update Tracking History</button>
          </div>-->
          <div class="view-tracking">
            <h1 class="view-tracking-header">View Tracking History</h1>
            <form class="" id="view-tracking-form" action="#" style="display: block;">
              <label for="view-tracking-input" class="view-tracking-label">Tracking ID:</label>
              <input type="text" name="view-tracking-input" id="view-tracking-input" class="" placeholder="" required />
              <button id="view-tracking-submit" onClick="viewTracking(); return false" class="">View</button>
            </form>
            <div id="tracking-table"></div>
          </div>
          <div class="update-tracking">
            <h1 class="update-tracking-header">Update Tracking History</h1>
            <form class="" id="upate-tracking-form" action="#" style="display: block;">
              <label for="update-tracking-employee" class="update-employee-label">Employee ID:</label>
              <input type="text" name="update-tracking-employee" id="update-tracking-employee" class="" placeholder="" required />
              <label for="update-tracking-input" class="update=tracking-label">Tracking ID:</label>
              <input type="text" name="update-tracking-input" id="update-tracking-input" class="" placeholder="" required />
              <label for="update-tracking-status" class="update-status-label">Status:</label>
              <select name="update-tracking-status" id="update-tracking-status"> 
                <option value="PROCESSED">PROCESSED</option> 
                <option value="SHIPPED">SHIPPED</option> 
                <option value="IN TRANSIT">IN TRANSIT</option>
                <option value="ARRIVED">ARRIVED</option> 
                <option value="DELAY">DELAY</option> 
              </select>
              <!--<input type="text" name="update-tracking-status" id="update-tracking-status" class="" placeholder="" required />-->
              <button id="update-tracking-submit" onClick="updateTracking(); return false" class="">Update</button>
            </form>
          </div>
        </div>
        <div id="packages">
          <h2>Packages Overview</h2>
            <form class="package-overview-form" id="package-overview-form">
                <div class="page">
                  <div class="container1">
                      <h3>From</h3>
                      <input type="date" id="startDate">
                      <h3>To</h3>
                      <input type="date" id="endDate">
                  </div>
                  <div class="container2">
                      <h3>Class Types</h3>
                      <label>
                        <select id="packageType" name="packageType">
                          <option value="">Choose an option</option>
                          <option value="Priority Mail Express">Priority Mail Express</option>
                          <option value="Priority Mail">Priority Mail</option>
                          <option value="Ground">Ground</option>
                          <option value="First Class">First Class</option>
                          <option value="Media Class">Media Class</option>
                        </select>
                      <h3>Status</h3>
                      <label>
                        <select id="packageStatus" name="status">
                          <option value="">Choose an option</option>
                          <option value="PROCESSED">Processed</option>
                          <option value="SHIPPED">Shipped</option>
                          <option value="IN TRANSIT">In Transit</option>
                          <option value="ARRIVED">Arrived</option>
                          <option value="DELAY">Delay</option>
                      </select>
                    </label>
                  </div>
              </div>
              <div class="submit_button">
                <button type="button" id="package_button" onClick="overviewReport()" class="package_button">View</button>
              </div>
            </form>
            <h2>Overview:</h2>
            <div id="package_overview"></div>
        </div>
        <div id="support">
          <h2>Support Tickets</h2>
          <div id="support">
            <table id="supportTable">
              <thead>
                <tr>
                  <th>Ticket ID</th>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Subject</th>
                  <th>Category</th>
                  <th>Status</th>
                  <th>Created</th>
                </tr>
              </thead>
              <tbody>
                <!-- Table rows will be added dynamically via JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
        <div id="post office">
          <p>This is the default content for Link 5.</p>
        </div>
        <div id="manager reports">
          <div id="reports">
            <div class="sales">
              <h2>Sales Report Generator</h2>
  
              <div id="reportForm">
                <div class="fieldBox">
                  <label>
                    <input type="checkbox" id="fieldAmount" /> Amount
                  </label>
                  <select id="amountComparison" name="amountComparison">
                    <option value="equal">Equal to</option>
                    <option value="greater">Greater than</option>
                    <option value="less">Less than</option>
                  </select>
                  <input type="number" id="amount" name="amount" />
                </div>
  
                <div class="fieldBox">
                  <label>
                    <input type="checkbox" id="fieldLocation" /> Location
                  </label>
                  <select id="location" name="location">
                    <option disabled selected value="">Select a location</option>
                    <option value="location1">
                      4516 Burleson Rd, Austin, TX 78744
                    </option>
                    <option value="location2">
                      3740 Greenbriar Dr, Houston, TX 77098
                    </option>
                    <option value="location3">
                      515 Centre St, Dallas, TX 75208
                    </option>
                    <option value="location4">
                      219 E Mills Ave, El Paso, TX 79901
                    </option>
                    <option value="location5">
                      5001 Avenue L, Lubbock, TX 79452
                    </option>
                    <option value="location6">
                      3903 Melear Dr, Arlington, TX 76015
                    </option>
                    <option value="location7">
                      1140 S Laredo St, San Antonio, TX 78204
                    </option>
                    <option value="location8">
                      5200 W University Blvd, Odessa, TX 79764
                    </option>
                    <option value="location9">
                      10515 Stonewall Blvd, Corpus Christi, TX 78410
                    </option>
                    <option value="location10">
                      423 Los Alamos Dr, Alamo, TX 78516
                    </option>
                  </select>
                </div>
  
                <div class="fieldBox">
                  <label> <input type="checkbox" id="fieldDate" /> Date </label>
                  <select id="dateComparison" name="dateComparison">
                    <option value="on">On</option>
                    <option value="before">Before</option>
                    <option value="after">After</option>
                  </select>
                  <input type="date" id="date" name="date" />
                </div>
  
                <div class="fieldBox">
                  <label>
                    <input type="checkbox" id="fieldEmployeeId" /> Employee ID
                  </label>
                  <input type="text" id="employeeId" name="employeeId" />
                </div>
  
                <button onclick="generateReport()">Generate Report</button>
              </div>
  
              <div id="result">
                <h3>Generated Report:</h3>
                <ul id="reportList"></ul>
              </div>
            </div>
          </div>
        </div>
        <div id="contact">
          <p>This is the default content for Link 7.</p>
        </div>
        <div id="clockin-clockout">
          <div class="clockin">
            <h1 class="clockin-header">Clock In</h1>
            <form class="" id="clockin-form" action="#" style="display: block;">
              <label for="clockin-user-input" class="clockin-user-label">Enter username:</label>
              <input type="text" name="clockin-user-input" id="clockin-user-input" class="" placeholder="" required />
              <label for="clockin-pass-input" class="clockin-pass-label">Enter password:</label>
              <input type="text" name="clockin-pass-input" id="clockin-pass-input" class="" placeholder="" required />
              <button id="clockin-submit" onClick="clockIn(); return false" class="">Clock In</button>
            </form>
          </div>
          <div class="clockout">
            <h1 class="clockout-header">Clock Out</h1>
            <form class="" id="clockout-form" action="#" style="display: block;">
              <label for="clockout-user-input" class="clockout-user-label">Enter username:</label>
              <input type="text" name="clockout-user-input" id="clockout-user-input" class="" placeholder="" required />
              <label for="clockout-pass-input" class="clockout-pass-label">Enter password:</label>
              <input type="text" name="clockout-pass-input" id="clockout-pass-input" class="" placeholder="" required />
              <button id="clockout-submit" onClick="clockOut(); return false" class="">Clock Out</button>
            </form>
          </div>
        </div>
        <div id="create_label">
          <form action="/employee/createlabel" method="POST">

            <h2>Ship From:</h2>
            <label for="fromCountry">Country:</label>
            <select id="fromCountry" name="fromCountry" defaultValue="USA">
                <option value="USA">USA</option>
                <!-- Add other countries if needed -->
            </select><br>
            <label for="fromFirstName">First Name:</label>
            <input type="text" id="fromFirstName" name="fromFirstName" required><br>
            <label for="fromLastName">Last Name:</label>
            <input type="text" id="fromLastName" name="fromLastName" required><br>
            <label for="fromAddress">Address Line:</label>
            <input type="text" id="fromAddress" name="fromAddress" required><br>
            <label for="fromZip">Zipcode:</label>
            <input type="text" id="fromZip" name="fromZip" required><br>
            <label for="fromCity">City:</label>
            <input type="text" id="fromCity" name="fromCity" required><br>
            <label for="fromState">State:</label>
            <select id="fromState" name="fromState">
                <!-- Add all USA states -->
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select><br>
    
    
            <label for="fromEmail">Email:</label>
            <input type="email" id="fromEmail" name="fromEmail" required><br>
      
    
        
        
        
        
            <h2>Ship To:</h2>
            <!-- Similar fields for Ship To -->
            <label for="toCountry">Country:</label>
            <select id="toCountry" name="toCountry" defaultValue="USA">
                <option value="USA">USA</option>
                <!-- Add other countries if needed -->
            </select><br>
            <label for="toFirstName">First Name:</label>
            <input type="text" id="toFirstName" name="toFirstName" required><br>
            <label for="toLastName">Last Name:</label>
            <input type="text" id="toLastName" name="toLastName" required><br>
            <label for="toAddress">Address Line:</label>
            <input type="text" id="toAddress" name="toAddress" required><br>
            <label for="toZip">Zipcode:</label>
            <input type="text" id="toZip" name="toZip" required><br>
            <label for="toCity">City:</label>
            <input type="text" id="toCity" name="toCity" required><br>
            <label for="toState">State:</label>
            <select id="toState" name="toState">
                <!-- Add all USA states -->
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <!-- Add other states here -->
            </select><br>
            <label for="toEmail">Email:</label>
            <input type="email" id="toEmail" name="toEmail" required><br>
        
    
        
        
        
        
            <h2>Details:</h2>
            <label for="description">Description:</label>
            <input type="text" id="description" name="description" required><br>
            <label for="dimensions">Dimensions:</label>
            <input type="text" id="dimensions" name="dimensions" required><br>
            <label for="weight">Weight:</label>
            <input type="text" id="weight" name="weight" required><br>
    
            <h2>Method:</h2>
            <label for="method">Select Method:</label>
            <select id="method" name="method">
                <option value="first">First</option>
                <option value="2nd day">2nd Day</option>
                <option value="economy">Economy</option>
            </select><br>
    
            <h2>Cost:</h2>
            <!-- Display cost based on the selected method -->
            <label for="cost">Cost:</label>
            <input type="text" id="cost" name="cost" readonly><br>
    
            
            
            
            <script>
                // Function to update cost based on the selected method
                document.getElementById('method').addEventListener('change', function() {
                    var method = this.value;
                    var costInput = document.getElementById('cost');
                    
                    if (method === 'first') {
                        costInput.value = '44.00';
                    } else if (method === '2nd day') {
                        costInput.value = '34.00';
                    } else if (method === 'economy') {
                        costInput.value = '19.00';
                    }
                });
            </script>
    
            <input type="submit" value="Submit">
      </form>
          


        </div>
      </main>
    </div>
    <script>
      // Your JavaScript code here
      const links = document.querySelectorAll(".side-nav a");

      links.forEach((link) => {
        link.addEventListener("click", (event) => {
          event.preventDefault(); // Prevent the default link behavior (optional)

          // Remove the "clicked" class from all links
          links.forEach((otherLink) => {
            otherLink.classList.remove("clicked");
          });

          // Add the "clicked" class to the clicked link
          link.classList.add("clicked");
        });
      });

      function loadContent(contentId) {
        // Hide all content div
        const contentDivs = document.querySelectorAll(".content > div");
        contentDivs.forEach((div) => {
          div.style.display = "none";
        });

        // Show the selected content
        document.getElementById(contentId).style.display = "block";
      }
      // Set the "Home" link to be lit up by default
      const homeLink = document.querySelector(".side-nav a[href='#']");
      homeLink.classList.add("clicked");
      loadContent("home");
      /*               JAVASCRIPT FOR EMPLOYEE HOME PAGE                */

/************************** HORIZONTAL LINE ***************************************************************/
//mkaes the shadow appear when scrolling
const horizontalLine = document.querySelector(".horizontal-line");

const BASE_URL = 'http://localhost:5500';
//const BASE_URL = 'https://westernexpresspostal.azurewebsites.net';

window.addEventListener("scroll", () => {
  // Check if the user has scrolled down a certain distance (e.g., 100px)
  if (window.scrollY > 100) {
    horizontalLine.classList.add("has-shadow");
  } else {
    horizontalLine.classList.remove("has-shadow");
  }
});

/*************************************************************************************************************/
function loadContent(contentId) {
  // Hide all content divs
  const contentDivs = document.querySelectorAll(".content > div");
  contentDivs.forEach((div) => {
    div.style.display = "none";
  });

  // Show the selected content
  document.getElementById(contentId).style.display = "block";
}

/**********************************  DROP DOWN MENU  (NOT WORKING AS OF RIGHT NOW)******************************************************/
//Add your JavaScript code here (as previously provided)
const dropdown = document.querySelector(".dropdown");
const dropdownContent = dropdown.querySelector(".dropdown-content");

dropdown.addEventListener("click", () => {
  dropdownContent.style.display =
    dropdownContent.style.display === "block" ? "none" : "block";
});

// Close the dropdown when clicking outside of it
window.addEventListener("click", (event) => {
  if (!event.target.matches(".icon")) {
    dropdownContent.style.display = "none";
  }
});

/**************************** EMPLOYEE SUPPORT TICKET PAGE**********************************************************/
//Example ticket data (replace this with data from backend)
const ticketData = {
  ticketID: 1,
  name: "John Doe",
  email: "john@example.com",
  subject: "Issue with product",
  category: "Technical",
  status: "Open",
  created: "2023-11-03",
};

// Function to add a new row to the support table
function addTicketToTable(data) {
  const tableBody = document.querySelector("#supportTable tbody");
  const newRow = document.createElement("tr");

  newRow.innerHTML = `
    <td>${data.ticketID}</td>
    <td>${data.name}</td>
    <td>${data.email}</td>
    <td>${data.subject}</td>
    <td>${data.category}</td>
    <td>${data.status}</td>
    <td>${data.created}</td>
  `;
  tableBody.appendChild(newRow);
}
// Adding the sample ticket data to the table
addTicketToTable(ticketData);
/**************************** EMPLOYEE TRACKING PAGE**********************************************************/
function viewTracking(){
  let tracking_id = document.getElementById('view-tracking-input').value;
  const tracking_id_span = document.getElementById('tracking-id');
  tracking_id_span.innerHTML = tracking_id;

  fetch(`${BASE_URL}/track/history/${tracking_id}`)
    .then(response => response.json())
    .then(data => {
      if(typeof data.alert === 'undefined'){
        JSONToHTMLTable(data[0], "tracking-table");
      }
      else{
        alert('The tracking ID you sent does not exist!'); 
      }
    })
    .catch(error => (console.error('Fetch error:', error)));	
}

function updateTracking(){

  let tracking_id = document.getElementById('update-tracking-input').value;
  let employee_id = document.getElementById('update-tracking-employee').value;
  let status = document.getElementById('update-tracking-status').value;

  const data = {
    'tracking_id': tracking_id,
    'employee_id': employee_id,
    'status': status
  };

  console.log(data);
  fetch(`${BASE_URL}/track/update`, {
    headers : {
      "Content-type": "application/json; charset=UTF-8"
    },
    method : 'POST',
    body : JSON.stringify(data)
  })
  .then(response => response.json())
  .then(data => {
    if(typeof data.alert === 'undefined'){
      console.log(data)
      alert(`Tracking for #${tracking_id} was successfully updated!`);
    }
    else{
      console.log(data)
      alert('The tracking ID you sent does not exist!'); 
    }
  })
  .catch(error => (console.error('Fetch error:', error)));	
}

function JSONToHTMLTable(data, elementToBind) {           
  var col = [];
  for (var i = 0; i < data.length; i++) {
    for (var key in data[i]) {
      if (col.indexOf(key) === -1) {
        col.push(key);
      }
    }
  }

  //This Code creates HTML table
  var table = document.createElement("table");

  //This Code getsrows for header creator above.
  var tr = table.insertRow(-1);

  for (var i = 0; i < col.length; i++) {
    var th = document.createElement("th");
    th.innerHTML = col[i];
    tr.appendChild(th);
  }

  //This Code adds data to table as rows
  for (var i = 0; i < data.length; i++) {

    tr = table.insertRow(-1);

    for (var j = 0; j < col.length; j++) {
      var tabCell = tr.insertCell(-1);
      tabCell.innerHTML = data[i][col[j]];
    }
  }

  //This Code gets the all columns for header
  var divContainer = document.getElementById(elementToBind);
  divContainer.appendChild(table);
}

/*const view_tracking_form = document.getElementById('view-tracking-form');
const update_tracking_form= document.getElementById('update-tracking-form');
const view_tracking_btn = document.getElementById('view-tracking-btn');
const update_tracking_btn = document.getElementById('update-tracking-btn');*/

/**************************** EMPLOYEE CLOCKIN / CLOCKOUT **********************************************************/

function clockIn(){
  let username = document.getElementById('clockin-user-input').value;
  let password = document.getElementById('clockin-pass-input').value;

  const data = {
    'username': username,
    'password': password
  };

  console.log(data);
  fetch(`${BASE_URL}/clockin`, {
    headers : {
      "Content-type": "application/json; charset=UTF-8"
    },
    method : 'POST',
    body : JSON.stringify(data)
  })
  .then(response => response.json())
  .then(data => {
    if(typeof data.alert === 'undefined'){
      console.log(data)
      alert(`You successfully clocked in!`);
    }
    else{
      console.log(data)
      alert('The username and/or password is incorrect!'); 
    }
  })
  .catch(error => (console.error('Fetch error:', error)));	
}

function clockOut(){
  let username = document.getElementById('clockout-user-input').value;
  let password = document.getElementById('clockout-pass-input').value;

  const data = {
    'username': username,
    'password': password
  };

  console.log(data);
  fetch(`${BASE_URL}/clockout`, {
    headers : {
      "Content-type": "application/json; charset=UTF-8"
    },
    method : 'POST',
    body : JSON.stringify(data)
  })
  .then(response => response.json())
  .then(data => {
    if(typeof data.alert === 'undefined'){
      console.log(data)
      alert(`You successfully clocked out!`);
    }
    else{
      console.log(data)
      alert('The username and/or password is incorrect!'); 
    }
  })
  .catch(error => (console.error('Fetch error:', error)));	
}

////////////package overview//////////////
function overviewReport() {
  const startDate = document.getElementById('startDate').value;
  const endDate = document.getElementById('endDate').value;
  const packageType = document.getElementById('packageType').value;
  const status = document.getElementById('packageStatus').value;


  const packageInfo = {};


  // Add non-empty attributes to the packageInfo object
  if (startDate.trim() !== '') {
    packageInfo.firstDate = startDate;
  }
  if (endDate.trim() !== '') {
    packageInfo.secDate = endDate;
  }
  if (packageType.trim() !== '') {
    packageInfo.packageType = packageType;
  }
  if (status.trim() !== '') {
    packageInfo.status = status;
  }


  console.log(packageInfo);
 
  if (Object.keys(packageInfo).length > 0) {
    fetch(`${BASE_URL}/login/overview`, {
      headers: {
        "Content-type": "application/json; charset=utf-8"
      },
      method: 'POST',
      body: JSON.stringify(packageInfo)
    })
    .then(response => response.json())
  .then(data => {
    console.log(data);
    if (Array.isArray(data) && data.length > 0 && typeof data[0] === 'object') {
      overviewTable(data, "package_overview");
    } else {
      alert('Invalid data format or empty');
    }
  })
  .catch(error => console.error('Fetch error:', error));
} else {
  console.log('No data to send');
}

  function overviewTable(data, elementToBind) {           
    if (!Array.isArray(data) || data.length === 0 || typeof data[0] !== 'object') {
      console.error('Invalid data format or empty');
      return;
    }

    var col = [];
    for (var i = 0; i < data.length; i++) {
      for (var key in data[i]) {
        if (col.indexOf(key) === -1) {
          col.push(key);
        }
      }
    }

    var table = document.createElement("table");
    var tr = table.insertRow(-1);

    for (var i = 0; i < col.length; i++) {
      var th = document.createElement("th");
      th.innerHTML = col[i];
      tr.appendChild(th);
    }

    for (var i = 0; i < data.length; i++) {
      tr = table.insertRow(-1);

      for (var j = 0; j < col.length; j++) {
        var tabCell = tr.insertCell(-1);
        tabCell.innerHTML = data[i][col[j]];
      }
    }

    var divContainer = document.getElementById(elementToBind);
    divContainer.innerHTML = "";
    divContainer.appendChild(table);
  }
}



    </script>
    <!--<script src="./js/employee_home.js"></script>-->
  </body>
</html>